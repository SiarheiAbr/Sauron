@model Sauron.ViewModels.TasksManageViewModel

@{
	ViewBag.Title = "Manage Tasks";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Manage Tasks</h2>

<table class="table">
	<thead>
	<tr>
		<th scope = "col">
			Id
		</th>
		<th scope="col">Name</th>
		<th scope="col">Link</th>
		<th scope="col">Actions</th>
		<th scope="col">
			@Html.ActionLink("Create", "Create", null, new { @class = "btn btn-outline-secondary" })
		</th>
	</tr>
	</thead>
	<tbody>
	@foreach (var task in Model.Tasks)
	{
		<tr>
			<td>
				@task.Id
			</td>
			<td>
				<p>@task.Name</p>
			</td>
			<td><a target="_blank" href="@task.GitHubUrl">@task.Name</a></td>
			<td>
				@Html.ActionLink("Edit", "Edit",
					new
					{
						taskId = @task.Id
					}, new { @class = "btn btn-outline-secondary" })

				@using (Html.BeginForm("Delete", "Tasks", new { taskId = @task.Id }, FormMethod.Post, new { @class = "form-inline", role = "form" }))
				{
					<button type="submit" class="btn btn-outline-secondary mb-2">Delete</button>
				}
			</td>
		</tr>
	}
	</tbody>
</table>
